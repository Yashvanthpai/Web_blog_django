{% extends 'start.html' %}
{% load crispy_forms_tags %}
    {% block links %}
    <script
			  src="https://code.jquery.com/jquery-3.4.1.min.js"
			  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
              crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="/resources/demos/style.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <style>
            
            #formdivs,#imgdivs,#deldivs{
              box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
              display: none;
              position: fixed;
              top: 10%;
              left: 25%;
            }
            #back_gg{
              position:absolute;
              background: url(https://assets.simpleviewinc.com/simpleview/image/upload/crm/providence/photo-1525812497894-356bd94ffff90_737bf9b3-5056-a36a-097d574039ed7262.jpg);
              top: 0;
              left: 0;
              bottom: 0;
              right: 0;
              display: none;
            }
            
            #postdivs{
              box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
              display: none;
              position: fixed;
              top: 3%;
              left: 12%;
            }
   </style>
    {% endblock %}
    {% block navlogin %}
           <ul class="navbar-nav mr-auto">
              <form class="form-inline">
                  <button class="btn  btn-sm btn-outline-secondary" type="button" onclick="openForm()">Home / Logout!</button>
                  <button class="btn btn-sm btn-outline-secondary" style="margin-left:12px; " type="button">Linked-in</button>
                  <button class="btn btn-sm btn-outline-secondary" type="button" style="margin-left:12px; ">Facebook</button>
                </form>
                </ul>
                <ul class="navbar-nav ml-auto">
                    <li onclick="openpostdivs()" class="nav-item active" style=" width:100px; text-align: center" ><a class="nav-link" href="#" ><i class="fas fa-edit"></i>Post</a></li>
                    
                    {% if user.is_authenticated %}
                    <li class="nav-item active"style=" width:100px; height: 35px;"><a class="nav-link" href=""style="  text-align: center"> <p>
                          <i class="fas fa-user"></i> {{ user.username}}  
                      </p> </a> </li>
                      {% endif %}
                    
                </ul>
    {% endblock %}
    {% block messageblock %}
        {% if messages %}
        {% for message in messages %}
        {% if user.is_authenticated %}
          <p class="message" style="width: 75%;margin: auto; height: 30px; text-align: center; background: rgb(164, 238, 164);color: black;border-radius: 15px;">{{ message }} {{ user.username}}</p>
        
        {% endif %}
        {% endfor %}
        {% endif %}

     
    {% endblock %}
{% block content %}
    <div  style="margin-top: 12px;" class="container">
      <div class="card">
        <div class="card-body">
            <div class="row">
                    <div class="col-9" >
                
                      <h5 class="card-title" style="display: inline-block;">Special title treatment</h5>
                      <h7 style="display: inline-flex; float: right;  width: 25% ">06/07/2019</h7>
                      <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
                    </div>
                    
                    <div  class="col" style="border-left: 1px solid rgb(190, 190, 190)">
                      <div style=" width:90% ;margin: auto; cursor: pointer;" >
                          <img id="img_prof" onclick="openimage_view(this)" style="width: 250px; height: 150px;" src="https://images.unsplash.com/reserve/bOvf94dPRxWu0u3QsPjF_tree.jpg?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60" class="img-thumbnail" alt="Cinque Terre"> 
                        </div>
                    </div>
                  </div>
          <hr>
          <!-- dictionary is solution for it as we iterate through it while iterating only pass that iterator as argument-->
          <a href="#" class="btn btn-primary" onclick="openpostdivs(this)"><i class="fas fa-edit"></i></a>
          <a href="#" class="btn btn-primary" onclick=""><i class="fas fa-trash"></i></a>
        </div>
      </div>


      <div class="card">
          <div class="card-body">
              <div class="row">
                      <div class="col-9" >
                  
                        <h5 class="card-title" style="display: inline-block;">Valley Bootcamp</h5>
                        <h7 style="display: inline-flex; float: right;  width: 25% ">07/06/2019</h7>
                        <p class="card-text">The function of a paragraph is to mark a pause, setting the paragraph apart from what precedes it. If a paragraph is preceded by a title or subhead, the indent is superfluous and can therefore be omitted</p>
                      </div>
                      
                      <div  class="col" style="border-left: 1px solid rgb(190, 190, 190)">
                        <div style=" width:90% ;margin: auto; cursor: pointer;" >
                            <img id="img_prof" onclick="openimage_view(this)" style="width: 250px; height: 150px;" src="https://images.unsplash.com/photo-1444465693019-aa0b6392460d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60" class="img-thumbnail" alt="Cinque Terre"> 
                          </div>
                      </div>
              </div>
            <hr>
            <!-- dictionary is solution for it as we iterate through it while iterating only pass that iterator as argument-->
            <a href="#" class="btn btn-primary" onclick="openpostdivs(this)"><i class="fas fa-edit"></i></a>
            <a href="#" class="btn btn-primary" onclick=""><i class="fas fa-trash"></i></a>
          </div>
        </div>

    </div>

    <!-- background-->
    <div id="back_gg" onclick="closeimg()" style="width: 100%; height :100% ;">
    </div>

    <!-- form popup-->
    <div class="container" id="formdivs" style="width: 50%; height: 450px; margin:auto; background-color: rgba(255, 255, 255, 0.486);  ">
            <button type="button" class="close" aria-label="Close" style="padding:2%;" onclick="closeimg()">
                <span aria-hidden="true">&times;</span>
             </button>
        
             <h3 style="padding:5%; margin-left: 30px;color: black"><strong><i>Do want to continue?</i></strong></h3>
       
            <hr style="background-color: rgb(146, 144, 141); width: 80%; margin: auto;">   
             <strong>
                <form id="myform" style="width: 60%; padding: 5% ; margin:auto;" method="post">
                    {% csrf_token %}
                    {{ form|crispy }}   
                    <button type="submit" class="btn btn-primary">Submit</button>
            </form>
             </strong>
            <hr style="background-color: rgb(146, 144, 141); width: 80%; margin: auto;">
    </div>

    <!-- post delete conformation-->
    <div class="container" id="deldivs" style="width: 40%; height: 300px; margin:auto; background-color: rgba(255, 255, 255, 0.486)  ">
      <button type="button" class="close" aria-label="Close" style="padding:1%;" onclick="closeimg()">
          <span aria-hidden="true">&times;</span>
       </button>
  
       <h5 style="padding:5%; margin-left: 30px;color: black;"><strong><i>Do you want to delete post?</i></strong></h5>
 
      <hr style="background-color: rgb(146, 144, 141); width: 80%; margin: auto;">   
 
      <form id="myform" style="width: 60%; padding: 2% ; margin:auto;" method="post">
              {% csrf_token %}
              {{ form|crispy }}   
              <button type="submit" class="btn btn-primary">Submit</button>
      </form>
  
      <hr style="background-color: rgb(146, 144, 141); width: 80%; margin: auto;">
</div>
    
    <!-- image popup-->
    <div class="container" id="imgdivs" style="width: 60%; height: 400px; margin:auto; background-color: rgba(255, 255, 255, 0.486) ">
        <button type="button" class="close" aria-label="Close" style="padding:2%;" onclick="closeimg()">
            <span aria-hidden="true">&times;</span>
         </button>
         <div style=" width:90%;height: 90%; ;margin: auto;padding: 21px;" >
            <img id="img_prof2" style="width: 90%; height: 100%; " src="" class="img-thumbnail" alt="Cinque Terre"> 
        </div>
    </div>

    <!-- Edit popup-->
    <div class="container" id="postdivs" style="width: 75%; height: 95%; margin:auto; border-radius: 5px; background-color: rgba(255, 255, 255, 0.486)  ">
        <button type="button" class="close" aria-label="Close" style="padding:2%;" onclick="closeimg()">
            <span aria-hidden="true">&times;</span>
         </button>
         <h4 style="padding:1%; margin-left: 30px; text-align: center; color: black;"><strong><i>Post</i></strong></h3>
         <hr style="background-color: rgb(146, 144, 141); width: 80%; margin: auto;"> 
          <strong>
              <form id="myform" style="width: 60%; padding: 0% ; margin:auto;" method="post">
                  {% csrf_token %}
                  {{ formp|crispy }}   
                  <button type="submit" class="btn btn-primary" onclick="didi()">Save</button>
          </form>
          </strong>
    </div>
<script>
  $( function() {
    $("input[name=Date]").datepicker({
      changeMonth: true,
      changeYear: true
    });
  } );


function didi(){
  alert($("input[name=Date]").val())
}
function openpostdivs(p) {
  var arr=['h5','h7','p'];
  var key = ['title','date','body']
  var val ={'title':"",'date':"",'body':""};
  for (var i=0;i<arr.length;i++){
      val[key[i]] = $($(p).parent()).find(arr[i]).text()
  }
  
  
  document.getElementById("back_gg").style.display = "block";
  document.getElementById("postdivs").style.display = "block";
  setvalue(val)
 
}
function setvalue(x){
  $("input[name=Subject]").val(x["title"])
  $("textarea[name=Post]").val(x["body"])
  $("input[name=Date]").val(x["date"])
  
}
function deldivsconf() {
  document.getElementById("back_gg").style.display = "block";
  document.getElementById("deldivs").style.display = "block";
}

function openForm() {
  document.getElementById("back_gg").style.display = "block";
  document.getElementById("formdivs").style.display = "block";
}

function openimage_view(x){
  document.getElementById("back_gg").style.display = "block";
  document.getElementById("imgdivs").style.display = "block";
  document.getElementById("img_prof2").setAttribute("src",x.src);
}

function closeimg() {
  document.getElementById("imgdivs").style.display = "none";
  document.getElementById("formdivs").style.display = "none";
  document.getElementById("postdivs").style.display = "none";
  document.getElementById("back_gg").style.display = "none";
  document.getElementById("deldivs").style.display = "none";
}

$(document).ready(function() {
        // messages timeout for 10 sec 
        setTimeout(function() { 
            $('.message').fadeOut('slow');
        }, 5000); // <-- time in milliseconds, 1000 =  1 sec

    });

function modify_form() {
  
}
</script>
{% endblock %}

